<!DOCTYPE html><html itemscope="" itemtype="http://schema.org/WebPage" lang=en-us><head><meta charset=utf-8 /><!--[if IE] <meta http-equiv=X-UA-Compatible content='IE=edge,chrome=1'--><meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name=viewport /><title>How to Build A Website Using Middleman and Github Pages</title><meta content="Adrian Ching is a Web Developer & Maker, focusing on Backend Architecture. He helps startups to turn their ideas into awesome real life applications." name=description /><meta content="index,follow" name=robots /><meta content=summary name="twitter:card"/><meta content="@adrianchinghc" name="twitter:site"/><meta content="How to Build A Website Using Middleman and Github Pages" name="twitter:title"/><meta content="Adrian Ching is a Web Developer & Maker, focusing on Backend Architecture. He helps startups to turn their ideas into awesome real life applications." name="twitter:description"/><meta content="@adrianchinghc" name="twitter:creator"/><meta content="../assets/images/adrianching-9e5cff66.jpg" name="twitter:image:src"/><meta content="https://adrianching.com/how-to-build-a-website-using-middleman-and-github-pages/" property="og:url"/><meta content="How to Build A Website Using Middleman and Github Pages" property="og:title"/><meta content="Adrian Ching is a Web Developer & Maker, focusing on Backend Architecture. He helps startups to turn their ideas into awesome real life applications." property="og:description"/><meta content="Adrian Ching - Web Developer & Maker" property="og:site_name"/><meta content="../assets/images/adrianching-9e5cff66.jpg" property="og:image"/><meta content=952268334783316 property="og:app_id"/><meta content=website property="og:type"/><meta content="How to Build A Website Using Middleman and Github Pages" itemprop=name /><meta content="Adrian Ching is a Web Developer & Maker, focusing on Backend Architecture. He helps startups to turn their ideas into awesome real life applications." itemprop=description /><meta content="../assets/images/adrianching-9e5cff66.jpg" itemprop=image /><meta content=2AFDCFD90C6614D4164019868C074980 name="msvalidate.01"/><meta content="width=device-width, initial-scale=1, maximum-scale=1" name=viewport /><script>!function(e){"use strict";var n=function(n,t,o){function i(e){return a.body?e():void setTimeout(function(){i(e)})}function r(){l.addEventListener&&l.removeEventListener("load",r),l.media=o||"all"}var d,a=e.document,l=a.createElement("link");if(t)d=t;else{var s=(a.body||a.getElementsByTagName("head")[0]).childNodes;d=s[s.length-1]}var f=a.styleSheets;l.rel="stylesheet",l.href=n,l.media="only x",i(function(){d.parentNode.insertBefore(l,t?d:d.nextSibling)});var u=function(e){for(var n=l.href,t=f.length;t--;)if(f[t].href===n)return e();setTimeout(function(){u(e)})};return l.addEventListener&&l.addEventListener("load",r),l.onloadcssdefined=u,u(r),l};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);</script><script>loadCSS("//netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css");
loadCSS("../assets/stylesheets/all-b694f1ca.css");</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-44406969-2', 'auto');
ga('send', 'pageview');</script><script>WebFontConfig = { google: { families: [ 'Montserrat', 'Open+Sans:300italic,300' ] } }; (function() { var wf = document.createElement('script'); wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js'; wf.type = 'text/javascript'; wf.async = 'true'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wf, s); })();</script><link type="image/png" href="../assets/images/favicon-876ef329.png" rel=icon /><link rel=apple-touch-icon type="image/png" href="../assets/images/favicon-876ef329.png"/><div id=loadOverlay style="background-color:#F2F2F2; position:absolute; top:0px; left:0px; width:100%; height:100%; z-index:2000;"></div></head><body class="fade-in cmon post_layout"></body><a id=top></a><section class=top-sidebar><div class=container><div class=row><div class="widget span12"><div id=optin_title><h3 id=optin_text>My best content on development & business </h3><h3 id=optin_text>delivered straight to your inbox. ðŸ˜‰</h3></div><div class=widget-content><div id=mc_embed_signup><form action="//adrianching.us12.list-manage.com/subscribe/post?u=a818b467193d9315e8f002c75&amp;id=bef9b73d36" class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate="" target=_blank><div class=clear id=mce-responses><div class=response id=mce-error-response style="display:none"></div><div class=response id=mce-success-response style="display:none"></div></div><div id=mc_embed_signup_scroll><div class=mc-field-group><input class=required id=mce-FNAME name=FNAME placeholder="First Name" value=""/></div><div class=mc-field-group><input class="required email" id=mce-EMAIL name=EMAIL placeholder="Email Address" type=email value=""/></div><div aria-hidden=true style="position: absolute; left: -5000px;"><input name=b_a818b467193d9315e8f002c75_bef9b73d36 tabindex=-1 value=""/></div><div class=clear><input id=mc-embedded-subscribe name=subscribe type=submit value="Sign Up"/></div><div id=no-spam><em>I'll never send you spam. Unsubscribe at any time.</em></div></div></form></div><script src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script></div></div></div></div></section><header class=header id=header><div class=container><div class=row><div class=span12><div class=logo><a href="/"><strong>ADRIAN CHING</strong></a></div><div class=top-content><nav class=menu><ul><li class=toggle><a href="#"> Menu</a></li><li><a href="/blog"> Blog</a></li></ul></nav><a class=toggleSidebar href="#"></a></div></div></div></div></header><section class="blog single-blog-page"><div class=container><div class=row><div class="top-pagination span12"><div class=wrap><a class=next href="#"></a><a class=prev href="#"></a></div></div><div class=single-post><div class="post-image post-format-image span12"><div class=wrapper><img alt="How to Build A Website Using Middleman and Github Pages" width=1808 height=986 src="../assets/images/posts/middlemanapp-68cc2c4f.png"/></div></div><div class=post-content><div class=span12><div class=post-inner-content><h1 class=post-header>How to Build A Website Using Middleman and Github Pages</h1><div class=post-meta><span class=date>Dec 4 2016</span><span class=comments><a class=comments href="posts/2016-12-04-how-to-build-a-website-using-middleman-and-github-pages.html#disqus_thread">Comments</a></span></div><div class="main-content single-post-main-content"><p>Website is an essential part of our digital lifestyle. Freelancers need website to showcase themselves, businesses need website to market their products and you need a website to maintain your online presence.</p> <p>There are multiple ways of creating a website with the advancement of technology nowadays but I will be showing you how to build a <a href="https://en.wikipedia.org/wiki/Static_web_page">static site</a> particularly and the best part is, you get to host it for FREE!</p> <h2>Why Static Site?</h2> <p>You might be wondering, why static site? One reason, because it&rsquo;s blazing fast!</p> <p>A static site doesn&rsquo;t have any dynamic contents as it consists mainly of HTML and CSS files. No fancy database is needed like <a href="https://wordpress.org/">Wordpress</a> which reduces the server response time, making your website load extremely fast.</p> <p>It is also easy to cache using CDNs such as <a href="https://www.cloudflare.com/">Cloudflare</a>.</p> <p>Static site is a perfect choice for personal websites, blogs, and landing pages as these sites do not require any contents to be generated on the fly.</p> <h2>Prerequisites</h2> <p>As this is a pretty technical blog post, you will need some experience in using terminal, code editor and code sharing site such as <a href="https://github.com">Github</a></p> <p class=post-alert> <strong>You can <a href="https://www.upwork.com/o/profiles/users/_~01c2b79130514bdaad/" target=blank rel="noopener noreferrer">invite me to your job</a> on Upwork if you need a website.</strong> </p> <p>Middleman is a static page generator built using <a href="https://www.ruby-lang.org/en/">Ruby</a> so you will need to install Ruby on your machine along with <a href="http://bundler.io/">Bundler</a> (<a href="https://rubygems.org/">RubyGems</a> Management Tool).</p> <p>If you don&rsquo;t have Ruby installed yet, follow the tutorial <a href="https://www.ruby-lang.org/en/documentation/installation/">here</a> to get Ruby up and running on your machine.</p> <p>Once that is done, install Bundler using the following command:</p> <pre class="highlight shell"><code><span class="gp">$ </span>gem install bundler
</code></pre> <p>You are all set up. Let&rsquo;s get started!</p> <h2>Middleman and Github Pages</h2> <p>There are plenty of static pages generators out there, but why Middleman?</p> <p>Simply because I&rsquo;m from the world of <a href="http://rubyonrails.org/">Ruby on Rails</a> and Middleman is very similar to Rails.</p> <p>It uses ERB as the default templating language and helpers that are very similar to Rails such as <code>link_to</code>. You can even define your own helper if needed.</p> <p>As for <a href="https://pages.github.com/">Github Pages</a>, who doesn&rsquo;t like FREE stuffs?</p> <p>Github provides free hosting of your static website and all you have to do is to push your code to a Github Repository.</p> <p>Why pay for hosting when you can get a website up and running with just one command?</p> <p>Last but not least, Github Pages even allows you to have a custom domain mapped to your website so you don&rsquo;t need to use <code>username.github.io</code> which is the default url for your github pages powered static website.</p> <h2>Set Up Middleman</h2> <p>Enough for all the introductions to Middleman App and Github Pages.</p> <p>Let&rsquo;s get to code, shall we?</p> <h3>Install Middleman</h3> <p>First, open up your terminal and enter the following command:</p> <pre class="highlight shell"><code>gem install middleman
</code></pre> <p>If you are denied permission to install Middleman, add <code>sudo</code> in front of the command above so that you can install Middleman with the right permission.</p> <p>Once the install process is done, check if Middleman is install correctly using:</p> <pre class="highlight shell"><code>middleman version
</code></pre> <p>You should see something like <code>Middleman 3.4.1</code> in the terminal. Version number will depend on the version of Middleman you&rsquo;ve installed.</p> <p>If you want to create a blog along side with your website, then do this so that the extension for blogging in Middleman is installed:</p> <pre class="highlight shell"><code>gem install middleman-blog
</code></pre> <p>Once you have Middleman installed, navigate to the folder where you want to store your Middleman project.</p> <h3>Create Project</h3> <p>To create a new Middleman project, use the command:</p> <pre class="highlight shell"><code>middleman init my_new_site
</code></pre> <p>or</p> <pre class="highlight shell"><code>middleman init my_new_site --template<span class="o">=</span>blog
</code></pre> <p>if you are creating a blog.</p> <p>You can rename <code>my_new_site</code> to any name you want as that will be your project name for this Middleman project.</p> <p>Once the project is created, navigate to the folder <code>my_new_site</code> and check out the folder structure.</p> <pre class="highlight plaintext"><code>â”€â”€ my_new_site
   â”œâ”€â”€ Gemfile
   â”œâ”€â”€ Gemfile.lock
   â”œâ”€â”€ config.rb
   â””â”€â”€ source
       â”œâ”€â”€ 2016-12-06-example-article.html.markdown
       â”œâ”€â”€ calendar.html.erb
       â”œâ”€â”€ feed.xml.builder
       â”œâ”€â”€ images
       â”œâ”€â”€ index.html.erb
       â”œâ”€â”€ javascripts
       â”œâ”€â”€ layout.erb
       â”œâ”€â”€ stylesheets
       â””â”€â”€ tag.html.erb
</code></pre> <p><code>Gemfile</code> is where you list down all the gems that you want to install in this Middleman project.</p> <p><code>Gemfile.lock</code> is the file where Middleman retrieve all the dependencies of the gems that you&rsquo;ve installed. You will not need to make changes to this file as this is automated by Bundler.</p> <p><code>config.rb</code> is the file to store all the Middleman configurations. This is where you customize the behavior of Middleman according to your needs.</p> <p><code>source</code> is the folder that keeps all your html/css/assets/articles that will be compiled into a static website.</p> <h3>Start Middleman Server</h3> <p>Middleman comes with a local server for testing purposes.</p> <p>Once the project is created, start the Middleman server.</p> <pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman server
</code></pre> <p>You can now view your Middleman site by visiting <code>http://localhost:4567</code></p> <p><img alt="Middleman Server" width=2558 height=1364 src="../assets/images/posts/middleman-server-10be77a7.png"/></p> <p>If you want to shut down your Middleman Server, just press <code>CTRL</code> + <code>C</code> on your keyboard.</p> <p>The Middleman Server can be left open when you are editing your site. You will only need to restart the server after you add a new gem or edited the configuration of Middleman.</p> <p>Tips:</p> <blockquote> <p>Use <code>EXECJS_RUNTIME=Node bundle exec middleman server</code> to start your server if it always hangs after some time. This command uses NodeJS to run the Middleman Server. Refer to this <a href="https://github.com/middleman/middleman/issues/1367">issue</a> for more details.</p> </blockquote> <h3>Middleman Extensions</h3> <p>Middleman has something called extensions that allows you to build more cool stuffs using extra features that these extensions provide you with.</p> <p>Since these extensions are bundled as a Gem, you can just include them in your Gemfile, run <code>bundle install</code> and voila!</p> <p>You just installed an extensions successfully.</p> <p>Here are some of the extensions that I&rsquo;m using for my Middleman site which is the one that you are on currently:</p> <p><code>middleman-blog</code></p> <p><code>middleman-livereload</code></p> <p><code>middleman-minify-html</code></p> <p><code>middleman-imageoptim</code></p> <p><code>middleman-deploy</code></p> <p><code>middleman-disqus</code></p> <p><code>middleman-smusher</code></p> <p><code>middleman-syntax</code></p> <p><code>middleman-robots</code></p> <p>You can look for more extensions <a href="https://directory.middlemanapp.com/#/extensions/all">here</a> to add functionality to your middleman site.</p> <h3>Middleman Templates</h3> <p>Templates can help with speeding up development time, hence it is worth a mention here.</p> <p>There are tons of templates available <a href="https://directory.middlemanapp.com/#/templates/all">here</a> for you to choose. You can choose templates with your favorite front-end framework, package manager or templating language.</p> <p>I started mine with an SEO optimized template like this one <a href="https://github.com/secretsaucehq/middleman-seo">here</a>.</p> <h3>Asset Folders</h3> <p>As for asset files, you are free to place them according to your preference.</p> <p>Just make sure you declare the path to these assets accordingly in the <code>config.rb</code> as shown below:</p> <pre class="highlight ruby"><code><span class="n">set</span> <span class="ss">:css_dir</span><span class="p">,</span> <span class="s1">'assets/stylesheets'</span>
<span class="n">set</span> <span class="ss">:js_dir</span><span class="p">,</span> <span class="s1">'assets/javascripts'</span>
<span class="n">set</span> <span class="ss">:images_dir</span><span class="p">,</span> <span class="s1">'assets/images'</span>
</code></pre> <h3>Create an Article</h3> <p>If you are planning to blog on your site, you can do that easily with the <a href="https://github.com/middleman/middleman-blog">middleman-blog</a> gem.</p> <p>Once you&rsquo;ve installed this blog engine for middleman, all you need to do is to:</p> <pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman article <span class="s2">"Title of Blogpost"</span>
</code></pre> <p>Then, a markdown file will be created in the <code>posts</code> folder of your middleman app.</p> <p>From there, you can write your post in <a href="https://guides.github.com/features/mastering-markdown/">markdown format</a> and <code>middleman-blog</code> will take care of all the other things for you.</p> <h3>Github Flavored Markdown</h3> <p>Kramdown is the default Markdown engine in Middleman hence it does not fully support Github Flavored Markdown which was replaced <code>redcarpet</code> in my own middleman site.</p> <p>If you are interested in doing this as well, add this to your <code>Gemfile</code>:</p> <pre class="highlight ruby"><code><span class="n">gem</span> <span class="s1">'redcarpet'</span>
</code></pre> <p>Run <code>bundle install</code>.</p> <p>Then enable <code>Redcarpet</code> and <code>fenced code blocks</code> in your <code>config.rb</code>:</p> <pre class="highlight ruby"><code><span class="n">set</span> <span class="ss">:markdown_engine</span><span class="p">,</span> <span class="ss">:redcarpet</span>
<span class="n">set</span> <span class="ss">:markdown</span><span class="p">,</span> <span class="ss">fenced_code_blocks: </span><span class="kp">true</span>
</code></pre> <p>last but not least, activate syntax highlighting in your <code>config.rb</code>this way:</p> <pre class="highlight ruby"><code><span class="n">activate</span> <span class="ss">:syntax</span>
</code></pre> <h3>Partials and Template helpers</h3> <p>Partials allow us to share content across multiple pages by only defining them once. Middleman provides this helpers method as well.</p> <p>All you need to do is to save the partial file starting with an underscore - <code>_navbar.html.haml</code>, then call the partial using the <code>partial</code> tag</p> <pre class="highlight ruby"><code><span class="o">=</span> <span class="n">partial</span> <span class="s2">"sidebar"</span>
</code></pre> <p>Middleman also provides multiple template helpers such as <code>link_to</code> and <code>image_tag</code>. You can read more about them <a href="https://middlemanapp.com/basics/helper_methods/">here</a>.</p> <h3>Deployment Settings</h3> <p>There are multiple ways of deploying a middleman site. My favorite has got to be using <code>:git</code> and hosting it using <a href="https://pages.github.com/">Github Pages</a>.</p> <p>Make sure you have the <code>middleman-deploy</code> gem installed. Then add these configurations to your <code>config.rb</code>:</p> <pre class="highlight ruby"><code><span class="n">activate</span> <span class="ss">:deploy</span> <span class="k">do</span> <span class="o">|</span><span class="n">deploy</span><span class="o">|</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">method</span> <span class="o">=</span> <span class="ss">:git</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">branch</span> <span class="o">=</span> <span class="s1">'master'</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">build_before</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">end</span>
</code></pre> <h2>Set Up Github Pages</h2> <h3>Set Up Git Repository</h3> <p>Before setting up Github, let&rsquo;s initialize a new repository in our project:</p> <pre class="highlight shell"><code>git init
</code></pre> <p>When you deploy your Middleman site, the statically generated files will be on the <code>master</code> branch. Hence you should not be making changes to the <code>master</code> branch. Instead, we create a branch called <code>source</code> and store our middleman project on this branch.</p> <pre class="highlight shell"><code>git checkout -b <span class="nb">source
</span>git add .
git commit -am <span class="s1">'Initial Commit'</span>
git push --set-upstream origin <span class="nb">source</span>
</code></pre> <h3>Set Up Github Repository</h3> <p>Now, all you need to do is set up Github Pages from your Github account.</p> <p>Create a repository called <code>username.github.io</code>. Username being your Github username. For example, my Github username is <code>adrianchinghc</code>. Hence the repository for my Github Pages will be <code>adrianchinghc.github.io</code>.</p> <p><img alt="Github Repository" width=1288 height=306 src="../assets/images/posts/github-pages-repo-8c82a736.png"/></p> <p>After creating the repository, follow the instructions on Github to add the remote repository to your Middleman project.</p> <pre class="highlight shell"><code>git remote add origin https://github.com/username/username.github.io.git
</code></pre> <p>Note that we will not be doing <code>git push -u origin master</code> as that will be automated by <code>middleman-deploy</code>.</p> <p>Now, to deploy your Middleman site, use the <code>bundle exec middleman deploy</code> command.</p> <p>Give it a few moments after deploying and soon you will see your site being deployed to <code>http://username.github.io</code>!</p> <h3>Custom Domain Name</h3> <p>For those who are interested to use a custom domain, you can do so with Github Pages as well.</p> <p>First go to your GitHub Pages site&rsquo;s repository.</p> <p>Under your repository name, click on the Settings tab.</p> <p>Under &ldquo;Custom domain&rdquo;, add your custom domain and click Save.</p> <p>Then you will need to set up your custom domain with your DNS provider.</p> <p>Depending on whether you want to set this up using an apex domain/subdomain, the configuration can be different.</p> <p>I did mine using an apex domain which was really easy to set up. All I did was go to my DNS provider and add two <code>A</code> records that points my domain to the following IP addresses:</p> <pre class="highlight plaintext"><code>192.30.252.153
192.30.252.154
</code></pre> <p>If you need more informations about setting up custom domain, here&rsquo;s an <a href="https://help.github.com/articles/quick-start-setting-up-a-custom-domain/">article from Github</a> explaining more about it.</p> <h2>Success!</h2> <p>Now you have a website generated using Middleman and hosted on Github Pages for FREE!</p> <p>I don&rsquo;t know about you but I love this because it helps me save a ton of moola.</p> <p>Now go forth and create!</p> <p>Thanks for reading all the way here. I know it&rsquo;s a long article so I appreciate it. Let me know what you think in the comments section below!</p> </div><div class=post-share><div class=tags><a href="/categories/technology/">#technology</a><a href="/categories/ruby/">#ruby</a><a href="/categories/middleman/">#middleman</a></div><div class=share-box><div class=social-icons><a class=facebook href="https://www.facebook.com/sharer/sharer.php?u=https://adrianching.com/posts/2016-12-04-how-to-build-a-website-using-middleman-and-github-pages.html" rel="noopener noreferrer" target=_blank></a><a class=twitter href="https://twitter.com/home?status=I%20just%20read%20an%20awesome%20article%20from%20Adrian%20Ching!%20Check%20it%20out%20here%3A%20https://adrianching.com/posts/2016-12-04-how-to-build-a-website-using-middleman-and-github-pages.html" rel="noopener noreferrer" target=_blank></a></div><a class="button toggle-share-box" href="#"> Share</a></div></div></div><div id=disqus_thread></div> <script>
//<![CDATA[
                  var disqus_shortname = 'adrianching';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="http://disqus.com" class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> <script>
//<![CDATA[
    var disqus_shortname = 'adrianching';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </div></div></div></div></div></section><footer><div class=container_footer><div class=left><p>Â© 2016<a href="/"><span> Adrian Ching</span></a></p></div><div class=right><a href="#top">Return to Top&nbsp;<i class="fa fa-long-arrow-up"></i></a></div></div></footer><script src="../assets/javascripts/all-994aeac4.js" async=true></script></html>